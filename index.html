<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ms.moon üíó</title>
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,
          Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;
        height: 100%;
        background-color: #edc3f7;
      }

      * {
        box-sizing: border-box;
      }

      main {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100vh;
        padding: 2rem;
        text-align: center;
        position: relative;
      }

      #img {
        width: 280px;
        height: 180px;
        object-fit: cover;
        margin-bottom: 1rem;
      }

      select {
        margin: 1rem 0;
        padding: 0.5rem;
        font-size: 1rem;
      }

      .hits {
        position: absolute;
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
      }

      /* Video Styles */
      #video {
        display: none;
        position: absolute;
        top: 0;
        left: 0;
        width: 280px;
        height: 180px;
        object-fit: cover;
        z-index: 1;
      }

      /* Mobile Responsiveness */
      @media (max-width: 768px) {
        #img,
        #video {
          width: 100%;
          height: auto;
        }
      }
    </style>
  </head>

  <body>
    <main>
      <!-- Fullscreen Video (Hidden by default) -->
      <video id="video" autoplay loop>
        <source src="you.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>

      <!-- Image Element -->
      <img id="img" src="images/1.jpg" alt="Image" />

      <!-- Dropdown for selecting video quality -->
      <select>
        <option value="144p">144p</option>
        <option value="240p">240p</option>
        <option value="360p">360p</option>
        <option value="480p">480p</option>
        <option value="720p">720p</option>
        <option value="fahu">ùôõùôñùôùùô™‚ô•</option>
      </select>
    </main>

    <script>
      const img = document.getElementById("img");
      const select = document.querySelector("select");
      const hitsDiv = document.getElementById("hits");
      const video = document.getElementById("video");

      const imageSources = {
        "144p": "images/1.jpg",
        "240p": "images/2.jpg",
        "360p": "images/3.jpg",
        "480p": "images/4.jpg",
        "720p": "images/5.jpg",
        "1080p": "images/you.gif", // GIF for 1080p, video will replace this
      };

      const preloadImages = () => {
        for (const src of Object.values(imageSources)) {
          const img = new Image();
          img.src = src;
        }
      };

      preloadImages();

      select.addEventListener("change", () => {
        img.src = imageSources[select.value];

        if (select.value === "fahu") {
          // Hide the image and show the video
          img.style.display = "none";
          video.style.display = "block"; // Show the video
          video.play(); // Start the video when displayed
        } else {
          // Hide the video and show the image again
          video.style.display = "none";
          img.style.display = "block";
        }
      });

      const showHitCount = () => {
        const hitCounter = document.createElement("a");
        const isProduction =
          window.location.hostname == "moonsugarcrush.netlify.app";
        hitCounter.href = "https://hits.sh/hits.sh.preview";
        hitCounter.innerHTML =
          '<img alt="Hits" src="https://hits.sh/hits.sh.preview?color=000000" />';
        if (isProduction) {
          hitCounter.href = "https://hits.sh/moonsugarcrush.netlify.app/";
          hitCounter.innerHTML =
            '<img alt="Hits" src="https://hits.sh/moonsugarcrush.netlify.app.svg?color=000000" />'; 
        }
        hitsDiv.appendChild(hitCounter);
      };
      showHitCount();
    </script>
  </body>
</html>
